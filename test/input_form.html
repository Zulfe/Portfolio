<head>
    <link rel="stylesheet" type="text/css" href="Semantic-UI-master/dist/semantic.css">
    <script type="text/javascript" src="js/semantic.js"></script>
</head>

<style>
    .input.tab.content.container {
        height: 100%;
        width: 100%;
        position: relative;
    }
    .input.tab.content.table {
        height: 40%;
        width: 40%;

        display: inline-block;

        position: absolute;
        left: 2%;
        top: 3%;

        font-size: 1.15vw;
    }
    .input.tab.content.table table, .input.tab.content.table-extended table {
        background-color: #DDDDDD;
        height: 100%;
        width: 100%;
        text-align: center;
    }

    .input.tab.content.table > table,
    .input.tab.content.table-extended > table
    {
        border: 2px solid #005DAA;
    }

    .input.tab.content.table th {
        text-align: center;
    }

    .input.tab.content.table td:not(:last-child),
    .input.tab.content.table-extended td:not(:last-child)
    {
        border-right: 1px solid black;
    }

    .input.tab.content.table tr:not(:last-child),
    .input.tab.content.table-extended tr:not(:last-child)
    {
        border-bottom: 1px solid black;
    }

    .input.tab.content.table input {
        height: 100%;
        width: 100%;

        background-color: #DDDDDD;
        border: none;

        text-align: center;
    }

    .input.tab.content.table input:focus {
        outline: none;
    }

    .input.tab.content.table > table > thead,
    .input.tab.content.table-extended > table > thead
    {
        background-color: #005DAA;
        height: 8%;
        
        color: white;
        font-family: monospace;
        font-size: 1.15em;
    }

    .input.tab.content.table .perc-input {
        width: 100%;
    }


    /*
    * Nested Tables
    */

    .input.tab.content.nested-table-container {
        width: 65%;
    }

    .input.tab.content.nested-table > thead {
        border-bottom: 1px solid black;
    }

    .input.tab.content.nested-table td {
        width: 33.3333%;
    }

    .input.tab.content.directional.nested-table td {
        height: inherit;
    }

    .input.tab.content.directional.nested-table td img { 
        height: 5em;
        width: auto;

        margin-top: -13%;
        margin-bottom: -13%;
    }

    .input.tab.content.directional.nested-table tr:last-child {
        height: 80%;
    }

    .input.tab.content.directional.nested-table tr:first-child {
        border-bottom: none !important;
    }



    /*
    * Extended Table
    */

    .input.tab.content.intersection.table-extended {
        height: 20%;
        width: 40%;

        top: 45%;
        left: 2%;

        position: absolute;

        font-size: 1.15vw;
    }

    .input.tab.content.intersection.table-extended table td:not(:first-child):not(:last-child) {
        width: 21.6667%;
    }

    .input.tab.content.intersection.table-extended > table td:last-child {
        width: 13%;
    }

    .input.tab.content.nested-table-extended td {
        width: 50% !important;
    }

    .input.tab.content.intersection.table-extended input {
        height: 100%;
        width: 100%;

        background-color: #DDDDDD;
        border: none;

        text-align: center;
    }

    .input.tab.content.intersection.table-extended input:focus {
        outline: none;
    }

    /*
    * Button Panel
    */

    .input.tab.content.intersection.button.panel {
        background-color: #005DAA;
        
        position: absolute;

        height: 16.5%;
        width: 40%;

        top: 67.5%;
        left: 2%;

        font-size: 1.65vw;
    }

    .input.tab.content.intersection.button.fratar {
        background-color: orange;

        height: 46.25%;
        width: 95%;

        margin: auto;
        margin-top: 2.5%;
    }

    .input.tab.content.intersection.button.movements {
        background-color: orange;

        height: 46.25%;
        width: 95%;

        margin: auto;
        margin-top: 2.5%;
    }


    /*
    * Intersection View
    */

    .input.tab.content.intersection.view {
        height: auto;
        width: 55%;

        top: 3%;
        right: 2%;

        display: inline-block;

        position: absolute;
    }

    .input.tab.content.intersection.internal.container {
        height: 100%;
        width: 100%;


-webkit-box-shadow: 8px 8px 7px 0px rgba(0,0,0,0.75);
-moz-box-shadow: 8px 8px 7px 0px rgba(0,0,0,0.75);
box-shadow: 8px 8px 7px 0px rgba(0,0,0,0.75);

        position: relative;
    }

    .input.tab.content.intersection.internal.background {
        height: 100%;
        width: 100%;
    }

    .input.tab.content.intersection.internal.context-point-one {
        position: absolute;
        top: 0.4%;
        left: 0.8%;

        height: 30%;
        width: 32.5%;
    }

    .input.tab.content.intersection.internal.context-point-two {
        position: absolute;
        top: 0.4%;
        right: 0.7%;

        height: 30%;
        width: 32.5%;
    }

    .input.tab.content.intersection.internal.context-point-three {
        position: absolute;
        bottom: 5.2%;
        left: 0.7%;

        height: 30%;
        width: 32.8%;
    }

    .input.tab.content.intersection.internal.context-point-four {
        position: absolute;
        bottom: 5.2%;
        right: 0.7%;

        height: 30%;
        width: 32.5%;
    }

    .input.tab.content.intersection.internal.roadway {
        background-color: #009900;
        outline: 2px solid white;
        border-radius: 3px;
        
    }

    .input.tab.content.intersection.internal.roadway.southbound {
        position: absolute;

        top: 15%;
        left: 51.05%;

        height: 3.5%;
        width: 23%;
        transform: rotate(90deg);
    }

    .input.tab.content.intersection.internal.roadway.westbound {
        position: absolute;

        top: 34.5%;
        right: 5.5%;

        height: 3.5%;
        width: 25%;
    }

    .input.tab.content.intersection.internal.roadway.northbound {
        position: absolute;

        bottom: 14%;
        right: 26%;

        height: 3.5%;
        width: 23%;
        transform: rotate(90deg);
    }

    .input.tab.content.intersection.internal.roadway.northbound text {
        transform: rotate(90deg);
    }

    .input.tab.content.intersection.internal.roadway.eastbound {
        position: absolute;

        top: 34.5%;
        left: 5.5%;

        height: 3.5%;
        width: 25%;

        text-align: center;
    }

    .input.tab.content.intersection.internal.roadway.southbound p {
        transform: rotate(90deg);
    }

    .input.tab.content.intersection.internal.roadway.southbound p,
    .input.tab.content.intersection.internal.roadway.westbound  p,
    .input.tab.content.intersection.internal.roadway.northbound p,
    .input.tab.content.intersection.internal.roadway.eastbound  p {
        position: absolute;
        top: 50%;
        left: 50%;

        width: 100%;

        color: white;
        font-size: 2vh;

        transform: translate(-50%, -50%);
    }
    

    .input.tab.content.intersection.internal.vertflex {
        position: relative;
        height: 100%;
        width: 100%;
    }

    .input.tab.content.intersection.internal.vertflex span {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);

        font-size: 1.5vw;
    }

    /*
    * Approach Containers
    */
    .input.tab.content.intersection.internal.approach.southbound {
        position: absolute;
        transform: rotate(180deg);
        
        top: 25%;
        left: 39%;

        height: 12%;
        width: 22%;
    }

    .input.tab.content.intersection.internal.approach.westbound {
        position: absolute;
        transform: rotate(-90deg);

        top: 45%;
        left: 59%;

        height: 12%;
        width: 19%;
    }

    .input.tab.content.intersection.internal.approach.northbound {
        position: absolute;

        bottom: 26%;
        left: 39.3%;

        height: 11%;
        width: 21%;
    }

    .input.tab.content.intersection.internal.approach.eastbound {
        position: absolute;
        transform: rotate(90deg);

        top: 45.5%;
        left: 22.5%;

        height: 11%;
        width: 19%;
    }

</style>

<div class="input tab content container">


    <script>
        function isValidVolumeCharacter(event, element) {

            if(event.charCode >= 48 && event.charCode <= 57) {
                if(parseInt($(element).val() + event.key) <= 10000)
                    return true;
                else
                    $(element).val("20000").trigger("input");
            }
            
            return false;
        }
        function isValidPercentageCharacter(event, element) {
            if(event.charCode >= 48 && event.charCode <= 57 || event.charCode == 46 && $(element).val().indexOf(".") == -1) {
                if(parseFloat($(element).val() + event.key) <= 100)
                    return true;
                else
                    $(element).val("100").trigger("input");
            }

            return false;
        }
    </script>



    <div class="input tab content table">
        <table>
            <thead>
                <tr>
                    <th colspan="3">Traffic Volume Demand</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Direction</td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content directional nested-table">
                            <thead>
                                <tr>
                                    <th colspan="3">Volume (vehicles per hour)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Left</td>
                                    <td>Through</td>
                                    <td>Right</td>
                                </tr>
                                <tr>
                                    <td><img src="assets/arrows/arrow_left.svg"></td>
                                    <td><img src="assets/arrows/arrow_through.svg"</td>
                                    <td><img src="assets/arrows/arrow_right.svg"</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content directional nested-table">
                            <thead>
                                <tr>
                                    <th colspan="3">Truck Percent (%)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Left</td>
                                    <td>Through</td>
                                    <td>Right</td>
                                </tr>
                                <tr>
                                    <td><img src="assets/arrows/arrow_left.svg"></td>
                                    <td><img src="assets/arrows/arrow_through.svg"</td>
                                    <td><img src="assets/arrows/arrow_right.svg"</td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>Eastbound</td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-eastbound-left"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-eastbound-through"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-eastbound-right"></td>
                            </tr>
                        </table>
                    </td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-eastbound-left-truckperc"></td>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-eastbound-through-truckperc"></td>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-eastbound-right-truckperc"></td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>Westbound</td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-westbound-left"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-westbound-through"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-westbound-right"></td>
                            </tr>
                        </table>
                    </td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-westbound-left-truckperc"></td>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-westbound-through-truckperc"></td>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-westbound-right-truckperc"></td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>Southbound</td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-southbound-left"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-southbound-through"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-southbound-right"></td>
                            </tr>
                        </table>
                    </td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-southbound-left-truckperc"></td>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-southbound-through-truckperc"></td>
                                <td><input class="perc-input" type="text" placeholder="0" onkeypress='return isValidPercentageCharacter(event, this)' name="usertable-southbound-right-truckperc"></td>
                            </tr>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>Northbound</td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-northbound-left"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-northbound-through"></td>
                                <td><input class="vol-input" type="text" placeholder="0" onkeypress='return isValidVolumeCharacter(event, this)' name="usertable-northbound-right"></td>
                            </tr>
                        </table>
                    </td>
                    <td class="input tab content nested-table-container">
                        <table class="input tab content nested-table">
                            <tr>
                                <td><input class="perc-input" onkeypress='return isValidPercentageCharacter(event, this)' type="text" placeholder="0" name="usertable-northbound-left-truckperc"></td>
                                <td><input class="perc-input" onkeypress='return isValidPercentageCharacter(event, this)' type="text" placeholder="0" name="usertable-northbound-through-truckperc"></td>
                                <td><input class="perc-input" onkeypress='return isValidPercentageCharacter(event, this)' type="text" placeholder="0" name="usertable-northbound-right-truckperc"></td>
                            </tr>
                        </table>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>

    <div class="input tab content intersection table-extended">
        <table>
            <thead>
                <tr>
                    <th colspan="5">Extended Details</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td>Adjustment Factor (%)</td>
                    <td>
                        <table class="input tab content nested-table-extended">
                            <tr>
                                <td><input type="text" placeholder="85" onkeypress='return isValidPercentageCharacter(event, this)' name="userextendedtable-uturn-factor"></td>
                                <td><input type="text" placeholder="95" onkeypress='return isValidPercentageCharacter(event, this)' name="userextendedtable-left-factor"></td>
                            </tr>
                        </table>
                    </td>
                    <td style="background-color: #BBBBBB"></td>
                    <td><input type="text" placeholder="85" onkeypress='return isValidPercentageCharacter(event, this)' name="userextendedtable-right-factor"></td>
                    <td style="background-color: #BBBBBB"></td>
                </tr>
                <tr>
                    <td colspan="2">Truck to PCE Factor</td>
                    <td colspan="3"><input type="text" placeholder="2.00" onkeypress='return event.charCode >= 48 && event.charCode <= 57' name="userextendedtable-truckpce-factor"></td>
                </tr>
                <tr>
                    <td colspan="2">Critical Lane Volume</td>
                    <td colspan="3">1600</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="input tab content intersection button panel">
        <div class="input tab content intersection button fratar">
            <i>"I don't have these!"</i>
            <br>
            <p>Use per-entry volumes instead...</p>
        </div>

        <div class="input tab content intersection button movements">
            <p>Configure Movements</p>
        </div>
    </div>

    <div class="input tab content intersection view">
        <div class="input tab content intersection internal container">
            <img class="input tab content intersection internal background" src="assets/intersections/aerial_basic.svg" >
            
            <div class="input tab content intersection internal context-point-one">
                <div class="input tab content intersection internal vertflex">
                    <span>VCU Hospital</span>
                </div>
            </div>

            <div class="input tab content intersection internal context-point-two">
                <div class="input tab content intersection internal vertflex">
                    <span></span>
                </div>
            </div>

            <div class="input tab content intersection internal context-point-three">
                <div class="input tab content intersection internal vertflex">
                    <span>COV Annex</span>
                </div>
            </div>

            <div class="input tab content intersection internal context-point-four">
                <div class="input tab content intersection internal vertflex">
                    <span>Monroe Building</span>
                </div>
            </div>

            <div class="input tab content intersection internal roadway southbound">
                <p>Southbound Road</p>
            </div>

            <div class="input tab content intersection internal roadway westbound">
                <p>Westbound Road</p>
            </div>

            <div class="input tab content intersection internal roadway northbound">
                <p>Northbound Road</p>
            </div>
            
            <div class="input tab content intersection internal roadway eastbound">
                <p>Road Name</p>
            </div>


            <div class="input tab content intersection internal approach southbound">

            </div>

            <div class="input tab content intersection internal approach westbound">

            </div>

            <div class="input tab content intersection internal approach northbound">

            </div>

            <div class="input tab content intersection internal approach eastbound">

            </div>

        
        </div>
    </div>

<script>
    $(".input.tab.content.intersection.table-extended thead").eq(0).on("click", function() {
        var content = $(".input.tab.content.intersection.table-extended tbody");
        if(content.is(":visible"))
            content.transition("scale");
        else
            content.transition("swing down");
    });
</script>

</div>
